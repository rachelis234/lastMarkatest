{"version":3,"file":"table-element.js","sourceRoot":"","sources":["../../src/table-element.ts"],"names":[],"mappings":"AACA,OAAO,SAAS,MAAM,kBAAkB,CAAC;AAIzC;IAAA;IAoCA,CAAC;IA1BC,6BAAM,GAAN;QACE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC;IAED,wCAAiB,GAAjB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI;YACF,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,gCAAS,GAAT;QACE,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,qCAAc,GAAd;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YACjC,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;YACrC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC;IACH,CAAC;IAGH,mBAAC;AAAD,CAAC,AApCD,IAoCC","sourcesContent":["import { FormGroup } from '@angular/forms';\r\nimport cloneDeep from 'lodash.clonedeep';\r\n\r\nimport { TableDataSource } from './table-data-source';\r\n\r\nexport abstract class TableElement<T> {\r\n  id: number;\r\n  editing: boolean;\r\n  currentData: T;\r\n  originalData?: T;\r\n  source: TableDataSource<T>;\r\n\r\n  abstract get validator(): FormGroup;\r\n  abstract set validator(validator: FormGroup);\r\n\r\n  delete(): void {\r\n    this.source.delete(this.id);\r\n  }\r\n\r\n  confirmEditCreate(): boolean {\r\n    if (this.id == -1)\r\n      return this.source.confirmCreate(this);\r\n    else\r\n      return this.source.confirmEdit(this);\r\n  }\r\n\r\n  startEdit(): void {\r\n    this.originalData = cloneDeep(this.currentData);\r\n    this.editing = true;\r\n  }\r\n\r\n  cancelOrDelete() {\r\n    if (this.id == -1 || !this.editing)\r\n      this.delete();\r\n    else {\r\n      this.currentData = this.originalData;\r\n      this.editing = false;\r\n    }\r\n  }\r\n\r\n  abstract isValid(): boolean;\r\n}\r\n"]}